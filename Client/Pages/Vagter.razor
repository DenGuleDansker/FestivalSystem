@page "/sevagter"
@using Common.Model
@using System.Web
@using Client.Services
@inject IJSRuntime JSRuntime // Injecter 'IJSRuntime' for at muliggøre interaktion med JavaScript på klienten .
@inject NavigationManager NavigationManager
@inject HttpClient http
@inject Blazored.SessionStorage.ISessionStorageService sessionStorage

<div class="row">
    <div class="col">
        <h3>Tilgængelige vagter</h3>

        <div>
            <input type="text" @bind="@searchKeyword" placeholder="Search by name" />
            <label>Sort Order:</label>
            <select @bind="@sortOrder">
                <option value="ascending">Point Ascending</option>
                <option value="descending">Point Descending</option>
            </select>
        </div>

        <div class="row">
            <div class="col-md-12 mb-10">
                <table class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th>Navn</th>
                            <th>Point</th>
                            <th>Start</th>
                            <th>Slut</th>
                            <th>Beskrivelse</th>
                            <th>Max Pladser</th>
                            <th>Pladser Tilbage: </th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var vagt in filteredVagtlist)
                        {
                            if (!brugervagtersomid.Contains(vagt.ID))
                            {
                                <tr>
                                    <td>@vagt.Navn</td>
                                    <td>@vagt.Point</td>
                                    <td>@vagt.Start</td>
                                    <td>@vagt.Slut</td>
                                    <td>@vagt.Beskrivelse</td>
                                    <td>@vagt.Antal</td>
                                    <td>@vagt.Pladser_Tilbage</td>
                                    <td>
                                        <button class="btn btn-success" @onclick="() => TagVagt(vagt, UrlId)">Tag Vagt</button>
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@code {

}

